# 스로틀링 (Throttling)

## 스로틀링이란?

- 특정 함수의 호출 빈도를 제한해, 과도한 리소스 사용을 방지하는 프로그래밍 기법
- 스로틀링 기법을 통해 함수가 마지막으로 호출 된 후 일정 시간이 지날때 까지 다음 함수의 호출을 지연시킨다.

<br />

## 스로틀링의 기본적 구현

```js
function throttle(callback, delay) {
  let timeid;

  return () => {
    /* 이전에 이벤트가 있었다면 현재 이벤트를 취소해준다. */
    if (timeid) return;
    timeid = setTimeout(() => {
      callback();

      /* 이전에 이벤트가 있었다면 timeid를 초기화 해준다.
       초기화 해주지 않으면 항상 timeid는 값을 가진다.
       따라서 조건문에의해 절대 실행되지 않는다. */
      timeid = null;
    }, delay);
  };
}
```

- `timeid` 변수는 `setTimeout` 함수로 부터 반환된 타이머의 ID를 저장하는 역할을 한다.
  - 해당 변수를 통해 예약된 함수의 호출을 관리
- `throttle`함수는 또 다른 함수를 반환하며 이 함수가 실제로 이벤트 리스너에서 호출된다.
- 반환된 함수 내부에서 만약 `timeId`값이 존재한다면, 함수는 추가적인 작업없이 바로 반환된다.
  - 이는 새로운 함수 호출을 무시하여, 지정된 지연 시간 내에는 단 한번의 호출만을 허용한다.
- `setTimeout` 내부에서 콜백함수를 실행후 `timeId`를 `null`로 설정함으로써 다음 함수 호출시 `timeId`값이 `undefined`가 아닌 `null`로 설정하게 해 새로운 호출이 가능하도록 하며, `timeId`를 초기화하지 않으면 첫번째 호출 이후 추가 호출이 불가능한 문제를 해결한다.
